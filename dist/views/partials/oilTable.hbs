<div class="col-md-12">
    <table id="batteries-table" class="table table-bordered table-striped">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Oil Spec</th>
                <th scope="col">Oil Type</th>
                <th scope="col">Volume</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            {{#if (isdefined page "view")}}
            {{#each consumables}}
                <tr>
                    <th>{{counter @index}}</th>
                    <td>{{this.oilSpec}}</td>
                    <td>{{this.typeOfOil}}</td>
                    <td>{{this.volume}}</td>
                    <td class="table-actions">
                        <div class="input-group">
                            <input type="number" id="tableOilQuantity-{{this.id}}" name="tableOilQuantity-{{this.id}}" class="form-control" placeholder="Quantity" aria-label="Quantity" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <button type="submit" id="updateOil-{{this.id}}" name="updateOil-{{this.id}}" class="btn btn-success btn-xs" onclick="updateOilPost({{this.id}})"><i class="fas fa-plus-circle"></i></button>
                                <button type="submit" id="deleteOil-{{this.id}}" name="deleteOil-{{this.id}}" class="btn btn-danger btn-xs" onclick="deleteOilPost({{this.id}})"><i class="fas fa-minus-circle"></i></button>
                            </div>
                        </div>
                    </td>
                </tr>
            {{/each}}
            {{/if}}

            {{#if (isdefined page "add")}}
            {{#each values.oil.consumables}}
                 <tr>
                    <th>{{counter @index}}</th>
                    <td>{{this.oilSpec}}</td>
                    <td>{{this.typeOfOil}}</td>
                    <td>{{this.volume}}</td>
                    <td class = "table-actions">
                        <div class="input-group">
                            <input type="number" id="tableOilQuantity-{{this.id}}" name="tableOilQuantity-{{this.id}}" class="form-control" placeholder="Quantity" aria-label="Quantity" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <button type="submit" id="updateOil-{{this.id}}" name="updateOil-{{this.id}}" class="btn btn-success" onclick="updateOilPost({{this.id}})"><i class="fas fa-plus-circle"></i></button>
                            </div>
                        </div>
                    </td>  
                </tr>
            {{/each}}
            {{/if}}
        </tbody>
    </table>
</div>

<script>
    function updateOilPost(id){
        document.getElementById("tableOilQuantity-" + id).name = "newQuantity";
        document.getElementById("mainForm").action = "update-oil/add/" + id;
    }

    function deleteOilPost(id){
        if(confirm("Are you sure to delete this Oil?")){
            document.getElementById("mainForm").method = "POST"
            document.getElementById("tableOilQuantity-" + id).name = "newQuantity";
            document.getElementById("mainForm").action = "update-oil/delet/" + id;
            
        }else{
            //document.getElementById("mainForm").method = "GET";
            document.getElementById("category").value = "Oil";
        }
    }

</script>