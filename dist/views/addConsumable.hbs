<div class="col-md-12" onload="showAddPage()">
    <form action="{{action}}" method="POST" id="mainForm" novalidate>
        {{!-- User Information --}}
        <div class="section-wrapper">
            <div class="section-title">
                <h4><i class="fas fa-gas-pump"></i> Consumable Information</h4>
                <hr class="my-3">
            </div>
            <div class="section-content">
                <div class="form-row">
                    <div class="form-group col">
                        <label for="type">Category</label>
                        <select type="text" placeholder = "Consumable Category" id="category" name="category" class="form-control" onChange="showAddPage()">
                            <option value="" disabled selected>Choose One</option>
                            <option value="battery">Battery</option>
                            <option value="brake">Brake</option>
                            <option value="filter">Filter</option>
                            <option value="grease">Grease</option>
                            <option value="oil">Oil</option>
                        </select>
                    </div>
                    <div class="form-group col">
                        <label for="existing">New Or Existing Item</label>
                        <select type="text" placeholder="Existing Or New" id="existing" name="existing" class="form-control" onChange="showAddPage()">
                            <option value="" disabled selected>Choose One</option>
                            <option value="new">New Item</option>
                            <option value="existing">Existing Item</option>
                        </select>
                    </div>
                </div>
            </div>
            <div  class="section-content" id="batterynew">
               {{>addBatteries}}
            </div>
            <div  class="section-content" id="batteryexisting">
               {{>batteriesTable}}
            </div>
             <div  class="section-content" id="brakenew">
               {{>addBrakes}}
            </div>
            <div  class="section-content" id="brakeexisting">
               {{>brakesTable}}
            </div>
            <div  class="section-content" id="filternew">
               {{>addFilters}}
            </div>
             <div  class="section-content" id="filterexisting">
               {{>filtersTable}}
            </div>
            <div  class="section-content" id="greasenew">
               {{>addGrease}}
            </div>
            <div  class="section-content" id="greaseexisting">
               {{>greaseTable}}
            </div>
            <div  class="section-content" id="oil">
               {{>addOil}}
            </div>
        </div>
        <button type="submit" id="submit" name="submit" class="btn btn-primary justfiy-content-end" onclick="addType()"><i class="far fa-save"></i> {{submitButtonText}}</button>
    </form>
</div>

<script>
    document.onload=hideAddPage();

    function addType(){
        document.getElementById("mainForm").action = "/consumables/add/" + document.getElementById("category").value;
   
    }
    function hideAddPage(){
        document.getElementById("brakenew").style.display ="none";
        document.getElementById("brakeexisting").style.display ="none";
        document.getElementById("batterynew").style.display ="none";
        document.getElementById("batteryexisting").style.display ="none";
        document.getElementById("filternew").style.display ="none";
        document.getElementById("filterexisting").style.display ="none";
        document.getElementById("oil").style.display ="none";
        document.getElementById("greasenew").style.display ="none";
        document.getElementById("greaseexisting").style.display ="none";
        document.getElementById("submit").style.display = "none";
    }
    function showAddPage() {
        var category = document.getElementById("category");
        var existing = document.getElementById("existing");
        var x = document.getElementById(category.value + existing.value);
        document.getElementById("brakenew").style.display ="none";
        document.getElementById("brakeexisting").style.display ="none";
        document.getElementById("batterynew").style.display ="none";
        document.getElementById("batteryexisting").style.display ="none";
        document.getElementById("filternew").style.display ="none";
        document.getElementById("filterexisting").style.display ="none";
        document.getElementById("oil").style.display ="none";
        document.getElementById("greasenew").style.display ="none";
        document.getElementById("greaseexisting").style.display ="none";
        if(category.value !== "" && existing.value !== ""){
            if (x.style.display === "none") {
                console.log(category.value + existing.value);
                x.style.display = "block";
            }
        }

        if(existing.value === "existing"){
           document.getElementById("submit").style.display = "none";
        }else if(category.value !== "" && existing.value !== ""){
            document.getElementById("submit").style.display = "block";
        }
        
    }
</script>